@import "tailwindcss";

/* Custom CSS variables for theming */
@theme {
  /* Color palette - Blue primary theme (low saturation) */
  --color-primary-50: oklch(0.97 0.008 240);
  --color-primary-100: oklch(0.93 0.02 240);
  --color-primary-200: oklch(0.87 0.04 240);
  --color-primary-300: oklch(0.78 0.07 240);
  --color-primary-400: oklch(0.67 0.10 240);
  --color-primary-500: oklch(0.55 0.12 240);   /* Core: 0.20 â†’ 0.12 */
  --color-primary-600: oklch(0.49 0.13 240);
  --color-primary-700: oklch(0.42 0.11 240);
  --color-primary-800: oklch(0.36 0.09 240);
  --color-primary-900: oklch(0.30 0.07 240);
  --color-primary-950: oklch(0.22 0.05 240);

  /* Semantic colors (low saturation) */
  --color-success: oklch(0.65 0.12 145);
  --color-warning: oklch(0.75 0.12 70);
  --color-error: oklch(0.60 0.15 25);
  --color-info: oklch(0.65 0.10 220);

  /* Spacing */
  --spacing-sidebar: 16rem;
  --spacing-sidebar-collapsed: 4rem;
  --spacing-header: 4rem;

  /* Animation */
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-slide-in: slide-in 0.2s ease-out;
  --animate-pulse-subtle: pulse-subtle 2s ease-in-out infinite;
  --animate-in: enter 0.2s ease-out;
  --animate-out: exit 0.15s ease-in forwards;

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slide-in {
    from { transform: translateX(-10px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  @keyframes pulse-subtle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  @keyframes enter {
    from { opacity: 0; transform: translateY(-100%); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes exit {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-100%); }
  }

  @keyframes fade-out {
    from { opacity: 1; }
    to { opacity: 0; }
  }

  /* Code scan animation keyframes */
  @keyframes scan-line-move {
    0% { 
      transform: translateY(0); 
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    95% {
      opacity: 1;
    }
    100% { 
      transform: translateY(100%); 
      opacity: 0;
    }
  }

  @keyframes code-line-pulse {
    0%, 100% { 
      fill: hsl(var(--muted-foreground) / 0.2);
    }
    50% { 
      fill: hsl(var(--primary) / 0.5);
    }
  }
}

/* Code scan animation styles */
.scan-line-group {
  animation: scan-line-move 2.5s linear infinite;
}

.code-line-highlight {
  animation: code-line-pulse 2.5s ease-in-out infinite;
}

/* Light mode (default) */
:root {
  /* ========== Typography Scale - 3 levels (mode-independent) ========== */
  --text-title: 1.5rem;      /* 24px - Page titles */
  --text-heading: 1rem;      /* 16px - Section/Card titles */
  --text-body: 0.875rem;     /* 14px - Body text */
  --text-caption: 0.75rem;   /* 12px - Captions/labels */
  
  /* Line Heights */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;
  
  /* Font Weights (constrained) */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;

  /* ========== Light Mode Colors ========== */
  --background: 0 0% 99%;
  --foreground: 220 15% 28%;
  --card: 0 0% 100%;
  --card-foreground: 220 15% 28%;
  --popover: 0 0% 100%;
  --popover-foreground: 220 15% 15%;
  --primary: 220 60% 50%;
  --primary-foreground: 0 0% 100%;
  --secondary: 220 14% 96%;
  --secondary-foreground: 220 20% 20%;
  --muted: 220 14% 96%;
  --muted-foreground: 220 10% 40%;
  --placeholder: 220 8% 58%;
  --accent: 220 60% 94%;
  --accent-foreground: 220 60% 25%;
  --destructive: 0 65% 55%;
  --destructive-foreground: 0 0% 100%;
  --border: 220 15% 90%;
  --input: 220 15% 90%;
  --ring: 220 60% 50%;
  --radius: 0.375rem;
}

/* Dark mode (low saturation) */
.dark {
  --background: 220 20% 7%;
  --foreground: 220 10% 92%;
  --card: 220 18% 10%;
  --card-foreground: 220 10% 92%;
  --popover: 220 18% 10%;
  --popover-foreground: 220 10% 92%;
  --primary: 220 55% 55%;
  --primary-foreground: 0 0% 100%;
  --secondary: 220 15% 15%;
  --secondary-foreground: 220 10% 92%;
  --muted: 220 15% 13%;
  --muted-foreground: 220 8% 55%;
  --placeholder: 220 6% 32%;
  --accent: 220 55% 18%;
  --accent-foreground: 220 55% 85%;
  --destructive: 0 50% 40%;
  --destructive-foreground: 0 0% 100%;
  --border: 220 15% 18%;
  --input: 220 15% 18%;
  --ring: 220 55% 50%;
}

/* Base styles */
* {
  border-color: hsl(var(--border));
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: var(--text-body);
  line-height: var(--leading-normal);
  font-weight: var(--font-normal);
  letter-spacing: -0.01em;
}

/* Global typography styles */
h1, .text-title {
  font-size: var(--text-title);
  font-weight: var(--font-semibold);
  line-height: var(--leading-tight);
  letter-spacing: -0.02em;
}

h2, h3, .text-heading {
  font-size: var(--text-heading);
  font-weight: var(--font-semibold);
  line-height: var(--leading-tight);
}

small, .text-caption {
  font-size: var(--text-caption);
  line-height: var(--leading-tight);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Focus visible styling - removed to avoid blue outline */
*:focus-visible {
  outline: none;
}

/* JSON view lite custom styles - use same font as syntax highlighter */
.json-view-container {
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* Override syntax highlighter font to match JSON view */
pre[class*="language-"],
code[class*="language-"] {
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
}

.json-view-container ul {
  margin: 0;
  padding-left: 1.25rem;
  list-style: none;
}

/* Ensure string values wrap properly */
.json-view-container span {
  word-break: break-word;
}

/* Fixed class names for JSON highlighting */
.json-view-label {
  color: hsl(5, 74%, 59%);
  font-weight: 600;
}

.json-view-string {
  color: hsl(119, 34%, 47%);
}

.json-view-number {
  color: #1750eb;
}

.json-view-boolean {
  color: #1750eb;
}

.json-view-null {
  color: #808080;
  font-style: italic;
}

.json-view-punctuation {
  color: #383a42;
}

.json-view-basic-child {
  padding-left: 0;
}

.json-view-child-container {
  margin: 0;
  padding: 0;
}

.json-view-other {
  color: hsl(var(--foreground));
}

.json-view-undefined {
  color: #808080;
  font-style: italic;
}

.json-view-expand-icon,
.json-view-collapse-icon {
  color: hsl(var(--muted-foreground));
  cursor: pointer;
  user-select: none;
}

.json-view-expand-icon:hover,
.json-view-collapse-icon:hover {
  color: hsl(var(--foreground));
}

.json-view-collapsed-content {
  color: hsl(var(--muted-foreground));
  font-style: italic;
}

/* Dark theme overrides */
.dark .json-view-label {
  color: hsl(355, 65%, 65%);
}

.dark .json-view-string {
  color: hsl(95, 38%, 62%);
}

.dark .json-view-number {
  color: #d19a66;
}

.dark .json-view-boolean {
  color: #d19a66;
}

.dark .json-view-null {
  color: #5c6370;
}

.dark .json-view-punctuation {
  color: #abb2bf;
}
